<!DOCTYPE html>
<html>
<head>
  <title>Search Engine</title>
</head>
<body>

  <h1>Search Engine</h1>

  <input type="text" id="query">
  <button id="search-button">Search</button>

  <br><br>

  <div id="results"></div>

  <script>
    const searchButton = document.getElementById("search-button");
    const resultsContainer = document.getElementById("results");

    async function search() {
      const query = document.getElementById("query").value;
      resultsContainer.innerHTML = "";

      const response = await fetch(`https://api.duckduckgo.com/?q=${query}&format=json`);

      if (!response.ok) {
        resultsContainer.innerHTML = "An error occurred while calling the API.";
        return;
      }

      const json = await response.json();
      if (json.Results.length === 0 && json.AbstractText === '') {
        resultsContainer.innerHTML = "No results found.";
        return;
      }

      if (json.AbstractText !== '') {
        resultsContainer.innerHTML += `<p><a href="${json.AbstractURL}">${json.AbstractText}</a></p>`;
      }

      for (const result of json.Results) {
        resultsContainer.innerHTML += `<p><a href="${result.FirstURL}">${result.Text}</a></p>`;
      }
    }

    searchButton.addEventListener("click", search);
  </script>

</body>
</html>
